{"ast":null,"code":"var _jsxFileName = \"/Users/gagandeep.singh/Downloads/trp-main-feature-voice-first-ui/frontend2/src/pages/VoiceInterface.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Mic, MicOff, PhoneOff } from 'lucide-react';\nimport { useLiveAPIContext } from '../contexts/LiveAPIContext.tsx';\nimport { AudioRecorder } from '../lib/audio-recorder.ts';\nimport AudioVisualization from '../components/AudioVisualization.tsx';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VoiceInterface = () => {\n  _s();\n  const {\n    client,\n    connected,\n    connect,\n    disconnect,\n    volume,\n    setConfig,\n    sendText\n  } = useLiveAPIContext();\n  const [isMuted, setIsMuted] = useState(false);\n  const [isSpeaking, setIsSpeaking] = useState(false);\n  const [lastMessage, setLastMessage] = useState('');\n  const [error, setError] = useState('');\n  const [inVolume, setInVolume] = useState(0);\n  const [audioRecorder] = useState(() => new AudioRecorder());\n  const [setupComplete, setSetupComplete] = useState(false);\n\n  // Set config and connect\n  useEffect(() => {\n    console.log('ðŸ”§ Setting up Gemini Live configuration...');\n    setConfig({\n      model: 'models/gemini-live-2.5-flash-preview',\n      systemInstruction: {\n        parts: [{\n          text: `You are Robbie, an AI-powered procurement assistant. You help users with real-time voice interactions for procurement tasks.\n\nYou are ALWAYS listening and ready to help. Users don't need to click buttons or say wake words - just speak naturally.\n\nKeep responses conversational, helpful, and concise since users hear your actual voice. \n\nWhen users first connect, briefly introduce yourself and ask how you can help with their procurement needs.`\n        }]\n      },\n      generationConfig: {\n        responseModalities: 'audio'\n      }\n    });\n  }, [setConfig]);\n  useEffect(() => {\n    if (!connected && connect) {\n      console.log('ðŸ”— Attempting initial connection...');\n      connect().then(() => {\n        console.log('âœ… Connection successful!');\n      }).catch(err => {\n        console.error('âŒ Connection failed:', err.message || err);\n        setError('Failed to connect to voice service');\n      });\n    }\n  }, [connected, connect]);\n\n  // Send greeting only after setup is complete\n  useEffect(() => {\n    if (setupComplete && sendText) {\n      setTimeout(() => {\n        const initialGreeting = \"Hello! I'm your AI assistant. How can I help you today?\";\n        console.log('Sending initial greeting after setup complete...');\n        try {\n          sendText(initialGreeting);\n        } catch (error) {\n          console.error('Failed to send initial greeting:', error);\n        }\n      }, 500);\n    }\n  }, [setupComplete, sendText]);\n\n  // Handle microphone audio streaming\n  useEffect(() => {\n    const onData = base64 => {\n      if (client) {\n        client.sendRealtimeInput([{\n          mimeType: \"audio/webm;codecs=opus\",\n          data: base64\n        }]);\n      }\n    };\n    const onVolume = vol => {\n      setInVolume(vol);\n    };\n    if (connected && !isMuted && audioRecorder) {\n      audioRecorder.on(\"data\", onData).on(\"volume\", onVolume);\n      audioRecorder.start().catch(err => {\n        console.error('Failed to start audio recording:', err);\n        setError('Failed to access microphone');\n      });\n    } else {\n      audioRecorder.stop();\n    }\n    return () => {\n      audioRecorder.off(\"data\", onData).off(\"volume\", onVolume);\n    };\n  }, [connected, client, isMuted, audioRecorder]);\n  useEffect(() => {\n    if (!client) return;\n\n    // Listen for AI responses\n    const handleContent = content => {\n      var _content$modelTurn;\n      console.log('ðŸ’¬ Received content from AI:', content);\n      if ((_content$modelTurn = content.modelTurn) !== null && _content$modelTurn !== void 0 && _content$modelTurn.parts) {\n        for (const part of content.modelTurn.parts) {\n          if (part.text) {\n            setLastMessage(part.text);\n          }\n        }\n      }\n    };\n    const handleAudio = () => {\n      setIsSpeaking(true);\n    };\n    const handleTurnComplete = () => {\n      setIsSpeaking(false);\n    };\n    const handleSetupComplete = () => {\n      console.log('ðŸŽ‰ Setup complete! Ready to send messages.');\n      setSetupComplete(true);\n    };\n    client.on('content', handleContent);\n    client.on('audio', handleAudio);\n    client.on('turncomplete', handleTurnComplete);\n    client.on('setupcomplete', handleSetupComplete);\n    return () => {\n      client.off('content', handleContent);\n      client.off('audio', handleAudio);\n      client.off('turncomplete', handleTurnComplete);\n      client.off('setupcomplete', handleSetupComplete);\n    };\n  }, [client]);\n  const toggleMute = () => {\n    setIsMuted(!isMuted);\n    console.log(isMuted ? 'Unmuted' : 'Muted');\n  };\n  const handleDisconnect = () => {\n    disconnect();\n    console.log('Disconnected from voice service');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-6\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: [/*#__PURE__*/_jsxDEV(AudioVisualization, {\n        isListening: connected && !isMuted,\n        isSpeaking: isSpeaking,\n        audioLevel: volume || 0,\n        size: 400,\n        className: \"mb-8 transition-all duration-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: connected ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-center space-x-2 text-green-400\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-2 h-2 bg-green-400 rounded-full animate-pulse\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm font-medium\",\n            children: \"Connected & Ready\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-center space-x-2 text-yellow-400\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-2 h-2 bg-yellow-400 rounded-full animate-pulse\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm font-medium\",\n            children: \"Connecting...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6 flex items-center justify-center space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: toggleMute,\n          className: `px-8 py-4 text-lg font-semibold rounded-xl transition-all duration-200 flex items-center space-x-2 ${isMuted ? 'bg-red-600 hover:bg-red-700 text-white' : 'bg-green-600 hover:bg-green-700 text-white'}`,\n          children: [isMuted ? /*#__PURE__*/_jsxDEV(MicOff, {\n            className: \"w-6 h-6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 36\n          }, this) : /*#__PURE__*/_jsxDEV(Mic, {\n            className: \"w-6 h-6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 69\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: isMuted ? 'Unmute' : 'Mute'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleDisconnect,\n          className: \"px-8 py-4 text-lg font-semibold rounded-xl transition-all duration-200 bg-red-600 hover:bg-red-700 text-white flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(PhoneOff, {\n            className: \"w-6 h-6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Disconnect\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 17\n      }, this), lastMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6 max-w-md mx-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 py-3 bg-white/10 rounded-lg border border-white/20 backdrop-blur-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-white/80 text-sm font-medium\",\n            children: \"Last Message:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-white text-sm mt-1\",\n            children: lastMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 21\n      }, this), connected && !isMuted && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 max-w-xs mx-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2 text-white/60 text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(Mic, {\n            className: \"w-4 h-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 bg-white/20 rounded-full h-2\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-blue-400 h-2 rounded-full transition-all duration-100\",\n              style: {\n                width: `${Math.min(inVolume * 100, 100)}%`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 21\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6 max-w-md mx-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 py-3 bg-red-500/20 rounded-lg border border-red-500/40 backdrop-blur-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-red-100 text-sm\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setError(''),\n            className: \"mt-2 text-red-200 hover:text-white text-xs underline\",\n            children: \"Dismiss\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-8 max-w-lg mx-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-6 py-4 bg-white/5 rounded-lg border border-white/10 backdrop-blur-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-white font-medium mb-2\",\n            children: \"How to use:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"text-white/70 text-sm space-y-1 text-left\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"\\u2022 Just start speaking - no wake words needed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"\\u2022 The AI will respond with voice\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"\\u2022 Use the mute button to pause listening\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"\\u2022 The animation shows listening (blue) and speaking (teal) states\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 155,\n    columnNumber: 9\n  }, this);\n};\n_s(VoiceInterface, \"tr64raiV0e62Jng20VhygnxrQa4=\", false, function () {\n  return [useLiveAPIContext];\n});\n_c = VoiceInterface;\nexport default VoiceInterface;\nvar _c;\n$RefreshReg$(_c, \"VoiceInterface\");","map":{"version":3,"names":["React","useState","useEffect","Mic","MicOff","PhoneOff","useLiveAPIContext","AudioRecorder","AudioVisualization","jsxDEV","_jsxDEV","VoiceInterface","_s","client","connected","connect","disconnect","volume","setConfig","sendText","isMuted","setIsMuted","isSpeaking","setIsSpeaking","lastMessage","setLastMessage","error","setError","inVolume","setInVolume","audioRecorder","setupComplete","setSetupComplete","console","log","model","systemInstruction","parts","text","generationConfig","responseModalities","then","catch","err","message","setTimeout","initialGreeting","onData","base64","sendRealtimeInput","mimeType","data","onVolume","vol","on","start","stop","off","handleContent","content","_content$modelTurn","modelTurn","part","handleAudio","handleTurnComplete","handleSetupComplete","toggleMute","handleDisconnect","className","children","isListening","audioLevel","size","fileName","_jsxFileName","lineNumber","columnNumber","onClick","style","width","Math","min","_c","$RefreshReg$"],"sources":["/Users/gagandeep.singh/Downloads/trp-main-feature-voice-first-ui/frontend2/src/pages/VoiceInterface.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Mic, MicOff, PhoneOff } from 'lucide-react';\nimport { useLiveAPIContext } from '../contexts/LiveAPIContext.tsx';\nimport { AudioRecorder } from '../lib/audio-recorder.ts';\nimport AudioVisualization from '../components/AudioVisualization.tsx';\n\nconst VoiceInterface: React.FC = () => {\n    const { client, connected, connect, disconnect, volume, setConfig, sendText } = useLiveAPIContext();\n    const [isMuted, setIsMuted] = useState(false);\n    const [isSpeaking, setIsSpeaking] = useState(false);\n    const [lastMessage, setLastMessage] = useState<string>('');\n    const [error, setError] = useState<string>('');\n    const [inVolume, setInVolume] = useState(0);\n    const [audioRecorder] = useState(() => new AudioRecorder());\n    const [setupComplete, setSetupComplete] = useState(false);\n\n    // Set config and connect\n    useEffect(() => {\n        console.log('ðŸ”§ Setting up Gemini Live configuration...');\n        \n        setConfig({\n            model: 'models/gemini-live-2.5-flash-preview',\n            systemInstruction: {\n                parts: [\n                    {\n                        text: `You are Robbie, an AI-powered procurement assistant. You help users with real-time voice interactions for procurement tasks.\n\nYou are ALWAYS listening and ready to help. Users don't need to click buttons or say wake words - just speak naturally.\n\nKeep responses conversational, helpful, and concise since users hear your actual voice. \n\nWhen users first connect, briefly introduce yourself and ask how you can help with their procurement needs.`,\n                    },\n                ],\n            },\n            generationConfig: {\n                responseModalities: 'audio' as const,\n            },\n        });\n    }, [setConfig]);\n\n    useEffect(() => {\n        if (!connected && connect) {\n            console.log('ðŸ”— Attempting initial connection...');\n            connect()\n                .then(() => {\n                    console.log('âœ… Connection successful!');\n                })\n                .catch((err: Error) => {\n                    console.error('âŒ Connection failed:', err.message || err);\n                    setError('Failed to connect to voice service');\n                });\n        }\n    }, [connected, connect]);\n\n    // Send greeting only after setup is complete\n    useEffect(() => {\n        if (setupComplete && sendText) {\n            setTimeout(() => {\n                const initialGreeting = \"Hello! I'm your AI assistant. How can I help you today?\";\n                console.log('Sending initial greeting after setup complete...');\n                try {\n                    sendText(initialGreeting);\n                } catch (error) {\n                    console.error('Failed to send initial greeting:', error);\n                }\n            }, 500);\n        }\n    }, [setupComplete, sendText]);\n\n    // Handle microphone audio streaming\n    useEffect(() => {\n        const onData = (base64: string) => {\n            if (client) {\n                client.sendRealtimeInput([\n                    {\n                        mimeType: \"audio/webm;codecs=opus\",\n                        data: base64,\n                    },\n                ]);\n            }\n        };\n\n        const onVolume = (vol: number) => {\n            setInVolume(vol);\n        };\n\n        if (connected && !isMuted && audioRecorder) {\n            audioRecorder.on(\"data\", onData).on(\"volume\", onVolume);\n            audioRecorder.start().catch((err) => {\n                console.error('Failed to start audio recording:', err);\n                setError('Failed to access microphone');\n            });\n        } else {\n            audioRecorder.stop();\n        }\n\n        return () => {\n            audioRecorder.off(\"data\", onData).off(\"volume\", onVolume);\n        };\n    }, [connected, client, isMuted, audioRecorder]);\n\n    useEffect(() => {\n        if (!client) return;\n\n        // Listen for AI responses\n        const handleContent = (content: any) => {\n            console.log('ðŸ’¬ Received content from AI:', content);\n            if (content.modelTurn?.parts) {\n                for (const part of content.modelTurn.parts) {\n                    if (part.text) {\n                        setLastMessage(part.text);\n                    }\n                }\n            }\n        };\n\n        const handleAudio = () => {\n            setIsSpeaking(true);\n        };\n\n        const handleTurnComplete = () => {\n            setIsSpeaking(false);\n        };\n\n        const handleSetupComplete = () => {\n            console.log('ðŸŽ‰ Setup complete! Ready to send messages.');\n            setSetupComplete(true);\n        };\n\n        client.on('content', handleContent);\n        client.on('audio', handleAudio);\n        client.on('turncomplete', handleTurnComplete);\n        client.on('setupcomplete', handleSetupComplete);\n\n        return () => {\n            client.off('content', handleContent);\n            client.off('audio', handleAudio);\n            client.off('turncomplete', handleTurnComplete);\n            client.off('setupcomplete', handleSetupComplete);\n        };\n    }, [client]);\n\n    const toggleMute = () => {\n        setIsMuted(!isMuted);\n        console.log(isMuted ? 'Unmuted' : 'Muted');\n    };\n\n    const handleDisconnect = () => {\n        disconnect();\n        console.log('Disconnected from voice service');\n    };\n\n    return (\n        <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-6\">\n            <div className=\"text-center\">\n                {/* Audio Visualization */}\n                <AudioVisualization\n                    isListening={connected && !isMuted}\n                    isSpeaking={isSpeaking}\n                    audioLevel={volume || 0}\n                    size={400}\n                    className=\"mb-8 transition-all duration-500\"\n                />\n\n                {/* Connection Status */}\n                <div className=\"mb-6\">\n                    {connected ? (\n                        <div className=\"flex items-center justify-center space-x-2 text-green-400\">\n                            <div className=\"w-2 h-2 bg-green-400 rounded-full animate-pulse\" />\n                            <span className=\"text-sm font-medium\">Connected & Ready</span>\n                        </div>\n                    ) : (\n                        <div className=\"flex items-center justify-center space-x-2 text-yellow-400\">\n                            <div className=\"w-2 h-2 bg-yellow-400 rounded-full animate-pulse\" />\n                            <span className=\"text-sm font-medium\">Connecting...</span>\n                        </div>\n                    )}\n                </div>\n\n                {/* Controls */}\n                <div className=\"mb-6 flex items-center justify-center space-x-4\">\n                    <button\n                        onClick={toggleMute}\n                        className={`px-8 py-4 text-lg font-semibold rounded-xl transition-all duration-200 flex items-center space-x-2 ${\n                            isMuted\n                                ? 'bg-red-600 hover:bg-red-700 text-white'\n                                : 'bg-green-600 hover:bg-green-700 text-white'\n                        }`}\n                    >\n                        {isMuted ? <MicOff className=\"w-6 h-6\" /> : <Mic className=\"w-6 h-6\" />}\n                        <span>{isMuted ? 'Unmute' : 'Mute'}</span>\n                    </button>\n\n                    <button\n                        onClick={handleDisconnect}\n                        className=\"px-8 py-4 text-lg font-semibold rounded-xl transition-all duration-200 bg-red-600 hover:bg-red-700 text-white flex items-center space-x-2\"\n                    >\n                        <PhoneOff className=\"w-6 h-6\" />\n                        <span>Disconnect</span>\n                    </button>\n                </div>\n\n                {/* Last Message */}\n                {lastMessage && (\n                    <div className=\"mt-6 max-w-md mx-auto\">\n                        <div className=\"px-4 py-3 bg-white/10 rounded-lg border border-white/20 backdrop-blur-sm\">\n                            <p className=\"text-white/80 text-sm font-medium\">Last Message:</p>\n                            <p className=\"text-white text-sm mt-1\">{lastMessage}</p>\n                        </div>\n                    </div>\n                )}\n\n                {/* Input Volume Indicator */}\n                {connected && !isMuted && (\n                    <div className=\"mt-4 max-w-xs mx-auto\">\n                        <div className=\"flex items-center space-x-2 text-white/60 text-sm\">\n                            <Mic className=\"w-4 h-4\" />\n                            <div className=\"flex-1 bg-white/20 rounded-full h-2\">\n                                <div \n                                    className=\"bg-blue-400 h-2 rounded-full transition-all duration-100\"\n                                    style={{ width: `${Math.min(inVolume * 100, 100)}%` }}\n                                />\n                            </div>\n                        </div>\n                    </div>\n                )}\n\n                {/* Error Display */}\n                {error && (\n                    <div className=\"mt-6 max-w-md mx-auto\">\n                        <div className=\"px-4 py-3 bg-red-500/20 rounded-lg border border-red-500/40 backdrop-blur-sm\">\n                            <p className=\"text-red-100 text-sm\">{error}</p>\n                            <button \n                                onClick={() => setError('')}\n                                className=\"mt-2 text-red-200 hover:text-white text-xs underline\"\n                            >\n                                Dismiss\n                            </button>\n                        </div>\n                    </div>\n                )}\n\n                {/* Instructions */}\n                <div className=\"mt-8 max-w-lg mx-auto\">\n                    <div className=\"px-6 py-4 bg-white/5 rounded-lg border border-white/10 backdrop-blur-sm\">\n                        <h3 className=\"text-white font-medium mb-2\">How to use:</h3>\n                        <ul className=\"text-white/70 text-sm space-y-1 text-left\">\n                            <li>â€¢ Just start speaking - no wake words needed</li>\n                            <li>â€¢ The AI will respond with voice</li>\n                            <li>â€¢ Use the mute button to pause listening</li>\n                            <li>â€¢ The animation shows listening (blue) and speaking (teal) states</li>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default VoiceInterface;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}